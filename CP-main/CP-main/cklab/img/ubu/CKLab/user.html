<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>User Check-in</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå CSS ‡∏ó‡∏µ‡πà‡πÅ‡∏¢‡∏Å‡∏≠‡∏≠‡∏Å‡∏°‡∏≤ -->
    <link href="user_style.css" rel="stylesheet">
</head>
<body>

    <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏≥‡∏•‡∏≠‡∏á (Simulation) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÉ‡∏ô Prototype -->
    <div class="simulation-bar">
        üõ†Ô∏è Simulation Mode: ‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ô‡∏±‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á 
        <select id="simPC" style="background:#555; color:white; border:none;">
            <!-- JS ‡∏à‡∏∞‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏≤‡πÉ‡∏™‡πà -->
        </select>
    </div>

    <!-- MAIN APP -->
    <div class="container">
        
        <!-- STEP 1: CHECK-IN & IDENTIFICATION -->
        <div id="step1" class="step-section active">
            <div class="card kiosk-card">
                <div class="kiosk-header">
                    <h4>üìç CKLab Check-in</h4>
                    <small>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡∏±‡∏ß‡∏ï‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</small>
                </div>
                <div class="card-body p-4">
                    <ul class="nav nav-pills nav-fill mb-3" role="tablist">
                        <li class="nav-item"><button class="nav-link active" onclick="switchTab('internal')">‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô</button></li>
                        <li class="nav-item"><button class="nav-link" onclick="switchTab('external')">‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</button></li>
                    </ul>

                    <!-- 1.1 Internal User (API Check) -->
                    <div id="formInternal">
                        <div class="mb-3">
                            <label class="form-label text-muted">UBU WiFi / ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤</label>
                            <div class="input-group">
                                <input type="text" id="intId" class="form-control form-control-lg" placeholder="‡πÄ‡∏ä‡πà‡∏ô 66123456">
                                <button onclick="checkInternal()" class="btn btn-primary">‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</button>
                            </div>
                        </div>
                        <!-- Result Box -->
                        <div id="apiResult" class="alert alert-secondary border-0" style="display:none;">
                            <h5 class="text-primary mb-1" id="apiName">...</h5>
                            <small class="d-block text-muted">‡∏Ñ‡∏ì‡∏∞: <span id="apiFac">-</span></small>
                            <small class="d-block text-muted">‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ: <span id="apiYear">-</span> | ‡∏£‡∏∞‡∏î‡∏±‡∏ö: <span id="apiLevel">-</span></small>
                            <button onclick="goToStep(2)" class="btn btn-success w-100 mt-3">‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á (‡∏ñ‡∏±‡∏î‡πÑ‡∏õ)</button>
                        </div>
                    </div>

                    <!-- 1.2 External User (Manual Input) -->
                    <div id="formExternal" style="display:none;">
                        <div class="mb-2"><input type="text" id="extCard" class="form-control" placeholder="‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô"></div>
                        <div class="mb-2"><input type="text" id="extName" class="form-control" placeholder="‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•"></div>
                        <div class="mb-3"><input type="text" id="extOrg" class="form-control" placeholder="‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô"></div>
                        <button onclick="checkExternal()" class="btn btn-primary w-100">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- STEP 2: INPUT DATA (Status) -->
        <div id="step2" class="step-section">
            <div class="card kiosk-card">
                <div class="kiosk-header bg-success">
                    <h4>üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h4>
                    <small>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö: <span id="showUserName">...</span></small>
                </div>
                <div class="card-body p-4">
                    
                    <!-- 2.1 ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ (Status) - ‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏° Flow -->
                    <div class="mb-3">
                        <label class="form-label fw-bold">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</label>
                        <select id="bookingType" class="form-select form-select-lg">
                            <option value="walk_in">Walk-in (‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)</option>
                            <option value="booking">Booking (‡∏à‡∏≠‡∏á‡∏•‡πà‡∏ß‡∏á‡∏´‡∏ô‡πâ‡∏≤)</option>
                        </select>
                    </div>

                    <div class="d-flex gap-2 mt-4">
                        <button onclick="goToStep(1)" class="btn btn-light w-50">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
                        <button onclick="confirmCheckIn()" class="btn btn-success w-50 fw-bold">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô (Start)</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- STEP 3: USAGE -->
        <div id="step3" class="step-section">
            <div class="card kiosk-card text-center p-5 bg-dark text-white">
                <div class="mb-3 display-1">‚è±Ô∏è</div>
                <h1 id="timer" class="mb-3 display-3 fw-bold">00:00:00</h1>
                <p class="text-white-50">‡∏Ñ‡∏∏‡∏ì‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</p>
                <h3 id="currentPCDisplay" class="text-warning mb-5">...</h3>
                
                <button onclick="goToStep(4)" class="btn btn-danger btn-lg w-100 py-3 shadow">Check-out (‡πÄ‡∏•‡∏¥‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)</button>
            </div>
        </div>

        <!-- STEP 4: FEEDBACK & END -->
        <div id="step4" class="step-section">
            <div class="card kiosk-card text-center p-4">
                <h3 class="mb-3 text-primary">üåü ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</h3>
                <p class="text-muted">‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</p>
                
                <div class="fs-1 text-warning mb-4" style="cursor: pointer;">
                    <span onclick="setRate(1)">‚òÖ</span>
                    <span onclick="setRate(2)">‚òÖ</span>
                    <span onclick="setRate(3)">‚òÖ</span>
                    <span onclick="setRate(4)">‚òÖ</span>
                    <span onclick="setRate(5)">‚òÖ</span>
                </div>
                <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <strong id="rateDisplay" class="fs-4">5</strong> / 5</p>

                <button onclick="submitFeedback()" class="btn btn-primary btn-lg w-100 mt-3">‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô</button>
            </div>
        </div>

    </div>

    <!-- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏ü‡∏•‡πå JS ‡πÅ‡∏¢‡∏Å -->
    <script src="user_script.js"></script>
</body>
</html>